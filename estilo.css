/* estilo.css - Versión Final Corregida */

Screen {
    layout: vertical;
    background: $background;
    color: $foreground;
}


/* --- LAYOUT PRINCIPAL --- */
#main_layout {
    height: 100%;
    margin: 0 1; 
}

/* --- SIDEBAR (Panel Lateral) --- */
Sidebar {
    width: 30;
    dock: left;
    background: $surface;
    border: round $primary; /* Borde redondeado estilo Btop */
    margin-right: 1;
    padding: 1;
    height: 100%;
}

.sidebar-title {
    text-align: center;
    text-style: bold;
    color: $accent;
    border-bottom: heavy $secondary;
    margin-bottom: 1;
}

.stat-label {
    color: $secondary; 
    margin-top: 1;
}

.stat-value {
    color: $foreground;
    text-style: bold;
}

/* Barra de progreso global personalizada */

#btn_reset {
    width: 100%;
    border: none;
    background: $error; /* Usamos $error (rojo) para acciones destructivas */
    color: $background;
    text-style: bold;
    margin-top: 2;
}

/* --- SISTEMA DE PESTAÑAS (Tabs) --- */
TabbedContent {
    height: 1fr;
}

ContentSwitcher {
    height: 1fr;
}

TabPane {
    height: 1fr;
    padding: 0 1;
}

Tabs {
    dock: top;
    background: $surface;
    height: 3; 
    margin-bottom: 1;
}

Tab {
    height: 3;
    padding: 0 2;
    
    content-align: center middle;
    color: ansi_white; 
    text-style: bold;
}

Tab:hover {
    color: $accent;
    background: $surface; 
}

Tab.-active {
    background: $surface;
    color: $accent;       
    content-align: center middle; 
    border-bottom: heavy $accent; 
    text-style: bold;
}

/* --- CONTENIDO: TRACKER DE MATERIAS --- */
#lista_container {
    height: 100%;
    border: round $secondary;
    padding: 1;
    background: $surface;
    overflow-x: auto;
    scrollbar-background: $surface;
    scrollbar-color: $surface;
}

MateriaWidget {
    layout: horizontal;
    margin-bottom: 1;
    padding: 1;
    border-bottom: solid ansi_bright_black;
}

.nombre-materia {
    width: 30;
    content-align: left middle;
    color: $primary;
    text-style: bold;
}

.barra-materia {
    width: 1fr; /* Ocupa todo el espacio flexible */
    content-align: center middle;
    color: $secondary;
}

.stats-materia {
    content-align: right middle;
    color: $foreground;
	margin: 0 2;
}

.btn-small {
    min-width: 5;
    background: $secondary;
    color: $background;
    border: none;
    text-style: bold;
}

/* --- CONTENIDO: TO-DO LIST --- */
ToDoWidget {
    layout: vertical;
    background: $surface;
    border: round $accent;
    padding: 1;
    height: 100%;
}

ListItem {
    padding: 0; /* Quitamos padding del item para que el contenedor controle todo */
    background: $background;
    height: auto;
}

/* El contenedor interno (Horizontal) */
.task-container {
    height: auto;
    width: 100%;
    align: left middle; /* Alineación vertical centrada */
    padding: 1;
}

/* El Checkbox (ocupa todo el espacio sobrante) */
.task-cb {
    width: 1fr;
    height: auto;
    color: $foreground;
}

/* El Botón de Eliminar */
.btn-delete {
    min-width: 4;     /* Ancho fijo pequeño */
    height: 1;        /* Altura mínima */
    background: transparent; /* Fondo transparente para ser sutil */
    color: $error;    /* La X en rojo */
    border: none;
    margin-left: 1;
}

.btn-delete:hover {
    background: $error;
    color: $background;
}
/* --- BARRA ESTILO BTOP (Colores Dinámicos) --- */

/* Clase base (forma y alineación) */
BtopBar {
    width: 1fr;
    content-align: center middle;
    color: $secondary; 
}

BtopBar.p-low {
    color: $primary; 
}

BtopBar.p-med {
    color: $secondary;
}

BtopBar.p-high {
    color: $accent;
    text-style: bold; 
}

.btop-bar-global {
    color: $success; 
} 
/* --- BOTÓN DE CAMBIO DE VISTA --- */
#btn_view_toggle {
    width: 100%;
    margin-top: 1;
    background: $primary;
    color: $background;
}

/* --- DASHBOARD VIEW (GOD MODE) --- */
DashboardView {
    layout: horizontal; /* Dos columnas principales */
    height: 100%;
    background: $background;
    display: none;
    overflow-y: auto;
}

/* Columna Izquierda: Tracker */
#dash_tracker {
    width: 50%;
    height: 100%;
    border: round $primary;
    margin-right: 1;
    background: $surface;
    padding: 1;
}

/* Columna Derecha: Contenedor para Pomodoro y ToDo */
#dash_right_col {
    width: 50%;
    height: 100%;
    layout: vertical;
    scrollbar-background: $surface;
    scrollbar-color: $surface;
}

/* Panel Pomodoro en Dashboard */
#dash_pomodoro {
    height: auto;       /* Dejar que crezca según su contenido */
    min-height: 20%;     /* Altura mínima segura */
    border: round $secondary;
    margin-bottom: 0;
    background: $surface;
    padding: 1;
}

	/* Panel ToDo en Dashboard */
	#dash_todo {
		min-height:30;
	    height: 40%;
	    border: round $accent;
	    background: $surface;
	    padding: 1;
	    margin-bottom: 1;
	}


	/* Panel del Reloj Digital */
	.clock-panel {
	    background: $surface; /* Un poco más oscuro si tu tema lo permite */
	    border: ascii $primary;
	    height: 6;
	    align: center middle;
	    margin-bottom: 0;
	    padding: 1;
	}

		#lbl_time {
    text-style: bold;
    color: $accent;
    content-align: center middle;
    width: 100%;
}

#lbl_status {
    color: $secondary;
    text-style: italic;
    content-align: center middle;
    width: 100%;
}

/* Grid de Botones 2x2 para que se vean grandes y ordenados */
.timer-grid {
    layout: grid;
    grid-size: 3 1;
    grid-gutter: 1; /* Espacio entre botones */
    margin-top: 1;
    height: 6;
}

.btn-pomo {
    width: 100%; /* Ocupar toda la celda del grid */
    height: 3;   /* Más altos para ser clicleables fácilmente */
    border: none;
    text-style: bold;
    padding: 1;
}

/* Estilos para el Footer con ASCII */
#dash_footer {
    height: 30%; /* El espacio restante */
    align: center middle; /* Centrar el arte */
    border-top: solid $secondary; /* Opcional: línea divisoria */
    padding-top: 1;
}

.ascii-art-text {
    color: $accent; /* O usa un gradiente si usas textual-canvas, pero esto basta */
    text-align: center;
}

.sidebar-footer {
    height: 1fr; /* Ocupa el espacio restante */
    align: center bottom; /* Empuja el contenido al fondo */
    padding-bottom: 1;
}

.ascii-art {
    color: $accent; /* Se verá genial con Pywal */
    text-align: center;
    text-style: bold;
}

.ascii-art-bottom {
    width: 100%;
    text-align: center;
    color: $accent;
    margin-top: 2;
    margin-bottom: 2;
    text-style: bold;
}
/* En estilo.css - Agrega esto al final o cerca de la sección Dashboard */

/* La caja contenedora del ASCII en el Dashboard */
.ascii-dashboard-box {
    height: auto;           
    width: 100%;           
    border: round $accent;
    background: $surface;
    margin-top: 1;      
    margin-bottom: 1;  
    padding: 1;       
    align: center middle; 
}

