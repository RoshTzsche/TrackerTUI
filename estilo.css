/* estilo.css - Versión Final Corregida */

Screen {
    layout: vertical;
    background: $background;
    color: $foreground;
}

/* --- CRÍTICO: FORZAR EXPANSIÓN DE PESTAÑAS --- */
TabbedContent {
    height: 1fr; /* Ocupa todo el espacio restante bajo el Header/Footer */
}

ContentSwitcher {
    height: 1fr; /* El contenedor interno de las pestañas también debe estirarse */
}

TabPane {
    height: 1fr; /* Cada panel individual hereda la altura completa */
}

/* --- LAYOUT PRINCIPAL --- */
#main_layout {
    height: 100%;
    margin: 0 1; 
}

/* --- SIDEBAR (Panel Lateral) --- */
Sidebar {
    width: 30;
    dock: left;
    background: $surface;
    border: round $primary; /* Borde redondeado estilo Btop */
    margin-right: 1;
    padding: 1;
    height: 100%;
}

.sidebar-title {
    text-align: center;
    text-style: bold;
    color: $accent;
    border-bottom: heavy $secondary;
    margin-bottom: 1;
}

.stat-label {
    color: $secondary; 
    margin-top: 1;
}

.stat-value {
    color: $foreground;
    text-style: bold;
}

/* Barra de progreso global personalizada */
.btop-bar-global {
    height: 1;
    color: $success;
    margin-bottom: 2;
}

#btn_reset {
    width: 100%;
    border: none;
    background: $error; /* Usamos $error (rojo) para acciones destructivas */
    color: $background;
    text-style: bold;
    margin-top: 2;
}

/* --- SISTEMA DE PESTAÑAS (Tabs) --- */
Tabs {
    background: $background;
    dock: top;
    margin-bottom: 1;
    color: red;
}

Tab {
    padding: 10 20;
    height: 10;
    /* ¡AQUÍ ESTÁ LA SOLUCIÓN! */
    /* Definimos el color base para pestañas inactivas */
    color: $primary; 
    text-style: bold;
}

/* Estado Hover (Opcional: para feedback visual al pasar el mouse) */
Tab:hover {
    color: $foreground;
}

/* Estado Activo (Pestaña seleccionada) */
Tab.-active {
    color: $accent;
    text-style: bold underline reverse; /* 'reverse' resalta el fondo del texto */
}
/* --- CONTENIDO: TRACKER DE MATERIAS --- */
#lista_container {
    height: 100%;
    border: round $secondary;
    padding: 1;
    background: $surface;
}

MateriaWidget {
    layout: horizontal;
    margin-bottom: 1;
    padding: 1;
    border-bottom: solid ansi_bright_black; 
}

.nombre-materia {
    width: 30;
    content-align: left middle;
    color: $primary;
    text-style: bold;
}

.barra-materia {
    width: 1fr; /* Ocupa todo el espacio flexible */
    content-align: center middle;
    color: $secondary;
}

.stats-materia {
    content-align: right middle;
    color: $foreground;
	margin: 0 2;
}

.btn-small {
    min-width: 5;
    background: $secondary;
    color: $background;
    border: none;
    text-style: bold;
}

/* --- CONTENIDO: TO-DO LIST --- */
ToDoWidget {
    layout: vertical;
    background: $surface;
    border: round $accent;
    padding: 1;
    height: 100%;
}

#list_tasks {
    height: 1fr;
    /* CORRECCIÓN: Reemplazado $link-color por $accent */
    border: heavy $accent; 
    background: $background;
    margin-bottom: 1;
}

ListItem {
    padding: 1;
}

#inp_task {
    dock: bottom;
    border: round $primary;
    background: $background;
}
